  
apiVersion: admissionregistration.k8s.io/v1
kind: ValidatingWebhookConfiguration
metadata:
  name: compliance
webhooks:
  - name: compliance.custom.azure.com
    clientConfig:
      url: https://rr-simple-validator-fx.azurewebsites.net/api/AdmissionControlFx
      caBundle: 'LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUpFekNDQnZ1Z0F3SUJBZ0lUTFFBTGhGa2tjTWpHVmFEZFhRQUFBQXVFV1RBTkJna3Foa2lHOXcwQkFRc0YKQURDQml6RUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2xkaGMyaHBibWQwYjI0eEVEQU9CZ05WQkFjVApCMUpsWkcxdmJtUXhIakFjQmdOVkJBb1RGVTFwWTNKdmMyOW1kQ0JEYjNKd2IzSmhkR2x2YmpFVk1CTUdBMVVFCkN4TU1UV2xqY205emIyWjBJRWxVTVI0d0hBWURWUVFERXhWTmFXTnliM052Wm5RZ1NWUWdWRXhUSUVOQklEVXcKSGhjTk1Ua3dPVEkwTURJeE9EVTJXaGNOTWpFd09USTBNREl4T0RVMldqQWVNUnd3R2dZRFZRUUREQk1xTG1GNgpkWEpsZDJWaWMybDBaWE11Ym1WME1JSUJJakFOQmdrcWhraUc5dzBCQVFFRkFBT0NBUThBTUlJQkNnS0NBUUVBCnB6Nmx5QTdoRW1LcWMyZHd5TEZ3cnVoUGdWL2JJTitRSjNwVUM4aUdxM1ZuVDQ3c2tZVXU3QXFHbGVFaE9WT0MKWmhGN0lTa0dsT0RudGNITWNDcVVuVmJXaGJla2x1UDI0MEdGMHc0RFpDNDloY1paYkhiQVBBdi9JY0RxbndCdgphVGFpWi9sK2ZISWtpZTcyQVdxZnRBbjhJcDVPTzd1U1kxT1k4Nm1NT0JDZkxFTlhRZ2JVUDRZUzU4MVo4elNFCnRzam5pUE8rKy9Pd3dieUFLN2ozeWZMdzBybFVLRVlpb0VERWs2Zk1mK3VmTDZUaW84bEZOemw3OGNlZVpveisKeDlSZTZ3V2txQ1ZNang5YktlY3JNa0VBRVN2aStTWU10cGhmeFhzcnQvVk9qMndKSTdWaFVMV1FicXVkVjJSRAo5NXg4TWtYcEdUOVVTb00vZGxsSnF3SURBUUFCbzRJRTJqQ0NCTll3Z2dINUJnb3JCZ0VFQWRaNUFnUUNCSUlCCjZRU0NBZVVCNHdCM0FPNUx2YmQxem1DNjRVSnBINnZobm1hakQzNWZzSExZZ3dERWU0bDZxUDNMQUFBQmJXRVoKd0V3QUFBUURBRWd3UmdJaEFJSE9MY1BmaVR0ckZ6Vkx3YnIwZkZqMnFjeGJndWhTOVJrNGs2UXNhUVZiQWlFQQp4cHo4SGZjM3NoWWZ2ZVYvNzVnM0tjNStKUnc0WVVKaklvM0J2S0ZQVWhnQWR3QmMzRU9TL3VhclJVU3hYcHJVClZ1WVFOL3ZWK2tmY29YT1VzbDdtOXNjT3lnQUFBVzFoR2I4ZUFBQUVBd0JJTUVZQ0lRQ0xjckxaTkJZa1hKaTUKZnJ6bW13cTZCdnNibDdhdGxkM0FZUldjMFRveDRBSWhBTEJlTHBrOFA1c09WcVNTbGhUU3lnMS90SUR2NTNJNwpFNEtNNWF6RjFaRUZBSFlBUkpSbExyRHV6cS9FUUFmWXFQNG93TnJtZ3I3WXl6RzFQOU16bHJXMmdhZ0FBQUZ0CllSbS9QUUFBQkFNQVJ6QkZBaUVBK2FSNXdPTjMwaGo0MFAycW5KazR1SlRlR3RjdUtib0tOc1BjUnArQU90Z0MKSUN5NWpDQVVmMmRHMFM3QUJkbXh2WGhtYUVCYUJnS284MlZFcmFqNVZYSVlBSGNBVllIVXdoYVFOZ0ZLNmd1YgpWenhUOE1Ea09IaHdKUWdYTDZPcUhRY1Qwd3dBQUFGdFlSbkFFUUFBQkFNQVNEQkdBaUVBOFdNVHNTaFZXYTBjClIzSnZ4TGoyN0Vtd0tOMmExU3VmV2wzMnl4M1lRZU1DSVFEbm9vbVgxbmVEL3JObThnQmMyM1g1enUzQ1NNN0IKa2s2ZXE3Mk4xc2FiTWpBbkJna3JCZ0VFQVlJM0ZRb0VHakFZTUFvR0NDc0dBUVVGQndNQ01Bb0dDQ3NHQVFVRgpCd01CTUQ0R0NTc0dBUVFCZ2pjVkJ3UXhNQzhHSnlzR0FRUUJnamNWQ0lmYWhuV0Q3dGtCZ3NtRkc0RzFubUdGCjlPdGdnVjJFMHQ5Q2d1ZVRlZ0lCWkFJQkhUQ0JoUVlJS3dZQkJRVUhBUUVFZVRCM01GRUdDQ3NHQVFVRkJ6QUMKaGtWb2RIUndPaTh2ZDNkM0xtMXBZM0p2YzI5bWRDNWpiMjB2Y0d0cEwyMXpZMjl5Y0M5TmFXTnliM052Wm5RbApNakJKVkNVeU1GUk1VeVV5TUVOQkpUSXdOUzVqY25Rd0lnWUlLd1lCQlFVSE1BR0dGbWgwZEhBNkx5OXZZM053CkxtMXpiMk56Y0M1amIyMHdIUVlEVlIwT0JCWUVGTUN2Y0ZZaUo3U3dFeWkyRlZ6QkJSaGpJS1IwTUFzR0ExVWQKRHdRRUF3SUVzREI4QmdOVkhSRUVkVEJ6Z2hNcUxtRjZkWEpsZDJWaWMybDBaWE11Ym1WMGdoY3FMbk5qYlM1aAplblZ5WlhkbFluTnBkR1Z6TG01bGRJSVNLaTVoZW5WeVpTMXRiMkpwYkdVdWJtVjBnaFlxTG5OamJTNWhlblZ5ClpTMXRiMkpwYkdVdWJtVjBnaGNxTG5OemJ5NWhlblZ5WlhkbFluTnBkR1Z6TG01bGREQ0JyQVlEVlIwZkJJR2sKTUlHaE1JR2VvSUdib0lHWWhrdG9kSFJ3T2k4dmJYTmpjbXd1YldsamNtOXpiMlowTG1OdmJTOXdhMmt2YlhOagpiM0p3TDJOeWJDOU5hV055YjNOdlpuUWxNakJKVkNVeU1GUk1VeVV5TUVOQkpUSXdOUzVqY215R1NXaDBkSEE2Ckx5OWpjbXd1YldsamNtOXpiMlowTG1OdmJTOXdhMmt2YlhOamIzSndMMk55YkM5TmFXTnliM052Wm5RbE1qQkoKVkNVeU1GUk1VeVV5TUVOQkpUSXdOUzVqY213d1RRWURWUjBnQkVZd1JEQkNCZ2tyQmdFRUFZSTNLZ0V3TlRBegpCZ2dyQmdFRkJRY0NBUlluYUhSMGNEb3ZMM2QzZHk1dGFXTnliM052Wm5RdVkyOXRMM0JyYVM5dGMyTnZjbkF2ClkzQnpNQjhHQTFVZEl3UVlNQmFBRkFqK0paOTA2b2NFd3J5N2pxZzRYelBHMFd4bE1CMEdBMVVkSlFRV01CUUcKQ0NzR0FRVUZCd01DQmdnckJnRUZCUWNEQVRBTkJna3Foa2lHOXcwQkFRc0ZBQU9DQWdFQVRoZmE3RFJBOEV5aQp6QXpYNEhxbnRnVmF3MkRFMDUwOEkxYXNlQWIreDlzUkRtYURLdWNIYld5YzQ2V2piQnlzeTd2T0kxKzJQVGFsCm92SThnMm4xNXphc2E4b2RNMHZmaFFXOWdvUzNaLzViSkd1d0t6bFczdEw4d3VCaC9RUEtOUEowbUd5UVUya0cKWEZnMmJvMFB1QmFhMnRzaUgyRUlaaWxFb21xOFJTKzRuTU9icGVnRWtXL1ZmOElLZFVJOUFZMVBJQzlheGJibgpoOXE4anlIcjZBekN1d1pPd3R1Q2pjb1V6YkVIVXVUSk9rL1piWEFnVVkrcjhBVktJWVZRZmpEZ0thN1ZiS2Y4CnBMcWJISkV0OGNUL1ZiamUxWk9UckoyZlY4TDJ1ZHE3M0FBaWQ2bjJyYlZScndmZVVFY0dRbVN4QUJYUEpScFgKTzBUdkQyMkUreTRZZkt2c0ZHejhzRTZXT3hJWUtDa2xTMCt0dUYvYk5sSDdpMXpMU3lnVm4zTmJVdW8zcDBxKwp4SThuZ3JydzdJcHZ1TGIvS2VHVFIydFFBRE1xRnpmUEdydGd2M3dhYlM0NEZJdHBrczNaYVByY3JyZ0xUajdHClB2MG10YUszNGNNaVVkNWV4S0NiYkw2S3QxUFZoY3pVYUtyODdSZ2J2eFFCcUlnaEZxd2FzMzZLTUROUUg1WjgKWjluRDV1VjdJYXFjbTlPbTNnMGJsbDg0aUVlWnN4NVVXVXZRdTBhejk2VEswZ0w3RHM4cnQ4YW1NV2kwZElEbApDaWd2aEdNMTJnekpwTTQzcWh5akJxY0ZsUlBqQVJPeUs3aXdSL3hHbmpBcHFhYkxQcStVSTdpUEZjU3d4MUVhCjVRSTY0N2FseUxwSWlsbi80bVlxeERERnI0a0U1aVk9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0='
    rules:
      - apiGroups: ["apps"]
        apiVersions: ["*"]
        operations: ["CREATE","UPDATE"]
        resources: ["deployments"]
        scope: "Namespaced"
    timeoutSeconds: 30
    failurePolicy: Fail
    sideEffects: None
    admissionReviewVersions: ["v1", "v1beta1"]